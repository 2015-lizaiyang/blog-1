# [译] [PJA] [506] npm 包管理器

> * Original: [npm](http://chimera.labs.oreilly.com/books/1234000000262/ch05.html#chejah2xh0000neixiy090gk5)
> * Translated by: [cssmagic](https://github.com/cssmagic)

## npm

npm is a package manager that comes bundled with Node. Contrary to popular belief npm is not an acronym. According to the npm FAQ It provides an easy way to install modules for your application, including all required dependencies. Node relies on the package.json specification for package configuration. It's common to use npm to pull in all of your project's open source JavaScript requirements on the server-side, but there is also a movement forming to use npm to pull in open-source dependencies for the client-side, as well.

### Directives

npm has a number of well documented directives, but for the purposes of this book, you'll only need to know the ones you'll commonly need to modify in order to get your typical app up and running:

  * `name` \- The name of the package.

  * `version` \- Package version number. npm modules must use semantic versioning.

  * `author` \- Some information about the author.

  * `description` \- A short description of the package.

  * `keywords` \- Search terms to help users find the package.

  * `main` \- The path of the main package file.

  * `scripts` \- A list of scripts to expose to **npm**. Most projects should define a "test" script that runs with the command **npm test**. Use it to execute your unit tests.

  * `repository` \- The location of the package repository.

  * `dependencies, bundledDependencies` \- Dependencies your package will `require()`.

  * `devDependencies` \- A list of dependencies that developers will need in order to contribute.

  * `engines` \- Specifies which version of Node to use.

If you want to build a node app, one of the first things you'll need to do is create a server. One of the easiest ways to do that is to use Express, a minimal application framework for Node. Before you begin, you should look at the latest version available. By the time you read this, the version you see here should no longer be the latest:

**`$ npm info express`**

`3.0.0rc5`

Now you can add it to your `package.json` file:

Example&nbsp;5-1.&nbsp;package.json

    {
      "name": "simple-express-static-server",
      "version": "0.1.0",
      "author": "Sandro Padin",
      "description": "A very simple static file server. For development use only.",
      "keywords": ["http", "web server", "static server"],
      "main": "./server.js",
      "scripts": {
        "start": "node ./server.js"
      },
      "repository": {
        "type": "git",
        "url": "https://github.com/spadin/simple-express-static-server.git"
      },
      "dependencies": {
        "express": "3.0.x"
      },
      "engines": {
        "node": "&gt;=0.6"
      }
    }

Notice that the express version is specified as "`3.0.x`". The `x` acts like a wildcard. It will install the latest 3.0 version, regardless of the patch number. It's another way of saying, "give me bug fixes, but no API changes". Node modules use [Semantic Versioning][13]. Read it as Major.Minor.Patch. Working backwards, bug fixes increment the patch version, non-breaking API changes increment the minor version, and backward breaking changes increment the major version. A zero for the major version indicates initial development. The public API should not be considered stable, and there is no indication in the version string for backward-breaking changes.

Now that your package and dependencies are declared, return to the console and run:

**`$ npm install`**

    express@3.0.0rc5 node_modules/express
    ├── methods@0.0.1
    ├── fresh@0.1.0
    ├── range-parser@0.0.4
    ├── cookie@0.0.4
    ├── crc@0.2.0
    ├── commander@0.6.1
    ├── debug@0.7.0
    ├── mkdirp@0.3.3
    ├── send@0.1.0 (mime@1.2.6)
    └── connect@2.5.0 (pause@0.0.1, bytes@0.1.0, send@0.0.4, formidable@1.0.11, qs@0.5.1)

When you run **npm install**, it will look at `package.json` and install all of the dependencies for you, including those that were declared by the `express` package.

[13]: http://semver.org/

***

&copy; Creative Commons BY-NC-ND 3.0 &nbsp; | &nbsp; [我要订阅](http://www.cssmagic.net/blog/subscribe) &nbsp; | &nbsp; [我要捐助](http://www.cssmagic.net/blog/donate)

&nbsp;
> * [参与评论](https://github.com/cssmagic/blog/issues/XXXXXXXXXX)
> * [查看更多文章](https://github.com/cssmagic/blog/issues?state=open)
