<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head><script type="text/javascript">var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);</script>
	<title>Programming JavaScript Applications</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="http://dwn0odqttrkhc.cloudfront.net/assets/book-748da559db3e7bc457e1e4da3b2fa1e9.css" media="screen" rel="stylesheet" type="text/css" />
	<link href="http://dwn0odqttrkhc.cloudfront.net/assets/default-6b113e470a1a8ec83000e32a1548bc3a.css" media="screen" rel="stylesheet" type="text/css" />
	<script src="http://dwn0odqttrkhc.cloudfront.net/assets/application-984298d79dbc8412cdf579684d9338f6.js" type="text/javascript"></script>
	<script src="http://dwn0odqttrkhc.cloudfront.net/assets/book-756862b9ed04d945ca53de5b8f106a83.js" type="text/javascript"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	<link href="http://dwn0odqttrkhc.cloudfront.net/assets/janrain-53eb5abed55992e21943b9d3373923e8.css" media="all" rel="stylesheet" type="text/css" />
	<meta content="authenticity_token" name="csrf-param" />
<meta content="EuDrkG8QF/N1NFHz1ZX2y1s9So/frYVQmc9riN99KI8=" name="csrf-token" />
	<script type="text/javascript" charset="utf-8">
  	
		app.data = new classes.Data({"controller":{"controller":"books","action":"html"},"capturable":{"capture_server":"https://oreilly.janraincapture.com","client_id":"6n5q2k9vesqgn93k3mhevka6c3c3rsre","app_url":"https://login.oreilly.com","app_id":"xsnca5wmqe9vxv97ygh5vfejkd","load_js":"d16s8pqtk4uodx.cloudfront.net/login.oreilly.com/load.js"},"user":{"id":null,"account":"LoggedOutAccount","email":"","name":null,"gravatar_url":"http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon"},"book":{"isbn":"1234000000262","chapter":"ch01.html","toc_url":"/books/1234000000262/toc_html","metadata_url":"http://d4bb7yl96lyl1.cloudfront.net/1234000000262/metadata/metadata_c6a0e8997c9604111d0171fb2d72f5c1b6cfd618.json"},"abilities":{"can_destroy_all_comments":false,"can_create_comments":false},"advertisement":{"body":"<style>      \r\n.ad-profile-image {\r\n  padding: 0;\r\n  margin: 0;\r\n  max-height: 30px;\r\n }\r\n\r\n.top-banner {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 34px;\r\n  z-index: 99999;\r\n}\r\n\r\np.banner-text {\r\n  margin: 0;\r\n  text-align: center;\r\n  padding-right: 10px;\r\n  width: 500px;\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n   p.banner-text {\r\n     width: 100%;\r\n     text-align: center;\r\n  }\r\n}\r\n\r\nspan.ebook-advantage {\r\n  font-size: smaller;\r\n  display: block;\r\n}\r\n\r\ndiv.banner-container {\r\n  margin: 0 auto;\r\n}\r\n\r\ndiv.banner-container ul {\r\n  margin: 0 auto;\r\n}\r\n\r\ndiv.topad { padding-bottom: 5px; }\r\n\r\ndiv.banner-container ul li {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\ndiv.banner-container li p {\r\n  padding-top: 0;\r\n  margin-top: 0;\r\n}\r\n\r\ndiv.banner-container li.sponsor {\r\n  border-right: 1px solid rgb(125, 154, 180);\r\n  margin-right: 5px;\r\n  padding-right: 10px;\r\n}\r\n\r\ndiv.banner-container .webbutton {\r\n  background-color: #3994b6;\r\n  display: inline-block;\r\n  padding: 10px;\r\n  -webkit-border-radius: 5px;\r\n  -moz-border-radius: 5px;\r\n  border-radius: 5px;\r\n  color: #FFF;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n</style>\r\n   \r\n<div style=\"color: rgb(125, 154, 180);\">\r\n\r\n<div class=\"banner-container\">\r\n\r\n<ul>\r\n\r\n<li class=\"sponsor\">\r\n<!--CONFERENCE SPONSOR IMAGE-->\r\n<a href=\"http://velocityconf.com/\">\r\n<img src=\"http://orm-other.s3.amazonaws.com/velocity_logo.png\" class=\"ad-profile-image\"/>\r\n<!-- <img src=\"http://orm-other.s3.amazonaws.com/fluent_logo.png\" class=\"ad-profile-image\"/>\r\n<img src=\"http://orm-other.s3.amazonaws.com/oscon_logo.png\" class=\"ad-profile-image\"/>\r\n<img src=\"http://orm-other.s3.amazonaws.com/strata_logo.png\" class=\"ad-profile-image\"/>\r\n<img src=\"http://orm-other.s3.amazonaws.com/StrataRx_logo.png\" class=\"ad-profile-image\"/>\r\n<img src=\"http://orm-other.s3.amazonaws.com/velocity_logo.png\" class=\"ad-profile-image\"/> -->\r\n</a>\r\n</li>\r\n\r\n<li>\r\n<!--AD TEXT, 2 LINES, REPLACE LINK URL AS WELL-->\r\n<p class=\"banner-text\">Enjoy this free Early Release version of <em>Programming JavaScript Applications</em>. Purchase and download the DRM-free ebook on <a href=\"http://shop.oreilly.com/product/0636920024231.do?intcmp=il-npa-books-video-product_chimera\">oreilly.com</a>.<span class=\"ebook-advantage\">Learn more about the O’Reilly <a href=\"http://shop.oreilly.com/category/ebooks.do\">Ebook Advantage</a>.</span></p>\r\n</li>\r\n\r\n<li>\r\n<!--BUY BUTTON-->\r\n<a class=\"webbutton\" href=\"http://shop.oreilly.com/product/0636920024231.do?intcmp=il-npa-books-video-product_chimera\">Buy the Ebook</a>\r\n</li> \r\n\r\n</ul>\r\n\r\n</div>\r\n\r\n<!--CORNER BANNER (IF NEEDED)-->\r\n<!--<a href=\"http://shop.oreilly.com/product/0636920025245.do\" class=\"top-banner\"><img src=\"http://orm-other.s3.amazonaws.com/banner.png\" /></a>-->\r\n\r\n</div>"}});

		/* Janrain setup */
  	var janrainModal = new JanrainView();
  	$("head").append(janrainModal.render().el);

  	/* segment.io setup */
  	var analytics=analytics||[];analytics.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);var r=function(e){return function(){analytics.push([e].concat(Array.prototype.slice.call(arguments,0)))}},i=["identify","track","trackLink","trackForm","trackClick","trackSubmit","pageview","ab","alias","ready"];for(var s=0;s<i.length;s++)analytics[i[s]]=r(i[s])};
  	
  	analytics.load("hg9h6b9pae");

  	$(function() {
			app.bookapp = new BookApp();
		});
	
	</script>
</head>
<body>
	<div id="menu">
	
		<ul id="menu-left">
			<li id="home-link"><a href="/"><i class="icon-house"></i></a></li>
			<li><a href="/books/1234000000262">Programming JavaScript Applications</a></li>
			<div class="clear"></div>
		</ul>
	
		<ul id="menu-right">
			<li id="comments-link"><a>&nbsp;</a></li>
			<li>
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Chapters</a>
				<div id="toc-popup" class="dropdown-menu"></div>
			</li>
				<li><a href="#" class="capture_modal_open" id="capture_signin_link">Log In / Sign Up</a></li>
			<li id="search-li">
				<form accept-charset="UTF-8" action="/searches" id="search-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
	<input name='search[q]' type="text" placeholder="Search book..." id="book-search" />

	<input id="search_bookId" name="search[bookId]" type="hidden" value="1234000000262" />
	
	<div style='display:none'>
		sorted by: 
		<select name='search[sort]' >
			<option value='relevance'>Relevance</option>
			<option value='authors'>Author(s)</option>
			<option value='title'>Title</option>
		</select>
		returning
		<select name='search[limit]' >
			<option value='5'>5</option>
			<option value='10'>10</option>
			<option value='20'>20</option>
			<option selected="selected" value='50'>50</option>
			<option value='100'>100</option>
		</select>
		values at a time.
	</div>
</form>
			</li>
			<div class="clear"></div>
		</ul>
		<div class="clear"></div>
	
</div>
	<header><div class="navheader">
<table style="width: 100%; ">
<tr><td style="text-align: center; " colspan="3">Chapter 1. The JavaScript Revolution</td></tr>
<tr>
<td style="width: 20%; text-align: left; ">
<a accesskey="p" href="pr01.html">Prev</a> </td>
<td style="width: 60%; text-align: center; "> </td>
<td style="width: 20%; text-align: right; "> <a accesskey="n" href="ch02.html">Next</a>
</td>
</tr>
</table>
<hr>
</div></header><section class="chapter" data-original-filename="ch01.xml" id="the_javascript_revolution"><div class="titlepage"><div><div><h1 class="title">Chapter 1. The JavaScript Revolution</h1></div></div></div>
<p id="in_case_you_hav">In case you haven’t heard, JavaScript is arguably the most important programming language on Earth. Once thought of as a toy, JavaScript is now the most widely deployed programming language in history. Almost everyone with a computer or a smart phone has all the tools they need to execute JavaScript programs, and create their own. All you need is a browser and a text editor.</p>
<p id="javascript_htm">JavaScript, HTML and CSS have become so prevalent that many operating systems have adopted the open web standards as the presentation layer for native apps. Even Microsoft announced that the Windows 8 UI will be driven by open web standards.</p>
<p id="creating_a_java">Creating a JavaScript program is as simple as editing a text file and opening it in the browser. No complex development environments to download and install. No complex IDE to learn. JavaScript is easy to learn, too. The basic syntax is immediately familiar to any programmer who has been exposed to the C family syntax. No other language can boast a barrier to entry as low as JavaScript.</p>
<p id="that_low_barrie">That low barrier to entry is probably the main reason that JavaScript was once widely (perhaps rightly) shunned as a toy. It was mainly used to create UI effects in the browser. That situation has changed.</p>
<p id="for_a_long_time_id1">For a long time, there was no way to save data with JavaScript. If you wanted data to persist, you had to submit a form to a web server and wait for a page refresh. That hindered the process of creating responsive and dynamic web applications. However, in 2000, Microsoft started shipping Ajax technology in Internet Explorer. Soon after, other browsers added support for the XMLHttpRequest object.</p>
<p id="in__google">In 2004, Google launched Gmail. Initially applauded because it promised users nearly infinite storage for their email, Gmail also brought a major revolution. Gone were the page refreshes. Under the hood, Gmail was taking advantage of the new Ajax technology, creating a single page, fast, responsive web application that would forever change the way that web applications are designed.</p>
<p id="since_that_time">Since that time, web developers have produced nearly every type of application, including full blown cloud-based office suites (see <a class="ulink" href="http://zoho.com/" target="_top">Zoho.com</a>), social APIs like Facebook’s JavaScript SDK, even graphically intensive video games.</p>
<p id="javascript_didn">JavaScript didn’t just luck into its position as the dominant client side language on the web. It is actually very well suited to be the language that took over the world. It is one of the most advanced and expressive programming languages developed to date. Here are some of the features you may or may not be familiar with:</p>
<div class="sect1" data-original-filename="ch01.xml" id="performance">
<div class="titlepage"><div><div><h2 class="title">Performance</h2></div></div></div>
<p id="just_in_time_co">Just in Time compiling – In modern browsers, most JavaScript is compiled, highly optimized and executed like native code, so run-time performance is close to software written in C or C++.  Of course, there is still the overhead of garbage collection and dynamic binding, so it is possible to do certain things faster -- however, the difference is generally not worth sweating over until you’ve optimized everything else. With <a class="ulink" href="http://nodejs.com/" target="_top">Node.js</a> (a high-performance, evented, server-side JavaScript environment built on Google's highly optimized V8 JavaScript engine), JavaScript apps are event-driven and non-blocking, which generally more than makes up the code execution difference between JavaScript and less dynamic languages.</p>
</div>
<div class="sect1" data-original-filename="ch01.xml" id="objects_id1">
<div class="titlepage"><div><div><h2 class="title">Objects</h2></div></div></div>
<p id="javascript_has__id1">JavaScript has very rich Object Oriented (OO) features. The <em class="firstterm">JSON</em> (JavaScript Object Notation)  standard used in nearly all modern web applications for both communication and data persistence is a subset of JavaScript’s excellent object literal notation.</p>
<p id="javascript_uses">JavaScript uses a <em class="firstterm">prototypal inheritance</em>  model. Instead of classes, you have object prototypes. New objects automatically inherit methods and attributes of its parent object through the <em class="firstterm">prototype chain</em>. It’s possible to modify an object’s prototype at any time, making JavaScript a very flexible, dynamic language.</p>
<p id="evidence_its_">Evidence: It’s possible to mimic Java’s class-based OO and inheritance models in JavaScript virtually feature-for-feature, and in most cases, with less code. The reverse is not true.</p>
<p id="contrary_to_com">Contrary to common belief, JavaScript supports features like encapsulation, polymorphism, multiple inheritance, composition, and much more. </p>
</div>
<div class="sect1" data-original-filename="ch01.xml" id="syntax">
<div class="titlepage"><div><div><h2 class="title">Syntax</h2></div></div></div>
<p id="the_javascript_">The JavaScript syntax should be immediately familiar to anybody who has experience with C-family languages such as C++, Java, C#, PHP, and so on. Part of JavaScript's popularity is due to its familiarity, though it's important to understand that JavaScript behaves very differently from all of these under the hood.</p>
<p id="javascripts_ob_id1">JavaScript’s Object Literal syntax is so simple, flexible, and concise, it was adapted to become the dominant standard for client/server communication in the form of JSON, which  is more compact and flexible than the XML that it replaced.</p>
</div>
<div class="sect1" data-original-filename="ch01.xml" id="first_class_functions">
<div class="titlepage"><div><div><h2 class="title">First Class Functions</h2></div></div></div>
<p id="in_javascript__id1">In JavaScript, objects were not a tacked-on afterthought. Nearly everything in JavaScript is an object, including functions. Because of that feature, functions can be used anywhere you might use a variable, including the parameters in function calls. That feature is often used to define anonymous callback functions for asynchronous operations, or to create <em class="firstterm">higher order functions</em> (functions that take other functions as parameters, return a function, or both). Higher order functions are used in the <em class="firstterm">functional programming</em> style to abstract away commonly repeated coding patterns such as iteration loops, or other instruction sets that differ mostly in the variables or data they consume.</p>
<p id="good_examples_o">Good examples of functional programing include functions like <code class="code">.map()</code>, <code class="code">.reduce()</code>, and <code class="code">.forEach()</code>. The <a class="ulink" href="http://documentcloud.github.com/underscore/" target="_top">Underscore.js</a> library contains many useful functional utilities. For simplicity, we'll be making  use of  Underscore.js in this book.</p>
</div>
<div class="sect1" data-original-filename="ch01.xml" id="events_id1">
<div class="titlepage"><div><div><h2 class="title">Events</h2></div></div></div>
<p id="inside_the_brow">Inside the browser, everything runs in an event loop. JavaScript coders quickly learn to think in terms of event handlers, and as a result, code from experienced JavaScript developers tends to be well organized and efficient. Operations that might block processing in other languages happen concurrently in JavaScript.</p>
<p id="if_you_click_so">If you click something, you want something to happen instantly. That impatience has led to wonderful advancements in UI design, such as Google Instant, and the ground breaking address lookup on <a class="ulink" href="http://thewildernessdowntown.com/" target="_top">The Wilderness Downtown</a>. (“The Wilderness Downtown” is an interactive short film by Chris Milk set to the Arcade Fire song, “We Used To Wait”. It was built entirely with the latest open web technologies.) Such functionality is powered by Ajax calls that do their thing in the background without slowing down the UI.</p>
</div>
<div class="sect1" data-original-filename="ch01.xml" id="reusability">
<div class="titlepage"><div><div><h2 class="title">Reusability</h2></div></div></div>
<p id="javascript_code">JavaScript code, by virtue of its ubiquity, is the most portable, reusable code around. What other language lets you write the same  code that runs natively on both  the client and the server? (See the section on Node to learn about an event-driven JavaScript environment that is revolutionizing server-side development.)</p>
<p id="javascript_can__id1">JavaScript can be modular and encapsulated, and it is common to see scripts written by six different teams of developers who have never communicated working in harmony on the same page.</p>
</div>
<div class="sect1" data-original-filename="ch01.xml" id="the_net_result">
<div class="titlepage"><div><div><h2 class="title">The Net Result</h2></div></div></div>
<p id="javascript_deve">JavaScript developers are at the heart of  what may be the single biggest revolution in the history of computing: the dawn of the realtime web. Messages passing back and forth across the net, in some cases with each keystroke, or every move of the mouse. We’re writing applications that put desktop application UI’s to shame. Modern JavaScript applications are the most responsive, most socially engaging applications ever written — and if you don’t know JavaScript yet, you’re missing the boat. It’s time to get on board, before you get left behind.</p>
</div>
<div class="sect1" data-original-filename="ch01.xml" id="anatomy_of_a_typical_modern_javascript_app">
<div class="titlepage"><div><div><h2 class="title">Anatomy of a Typical Modern JavaScript App</h2></div></div></div>
<p id="while_every_app">While every app is unique, most share some common concerns, such as hosting infrastructure, resource management, presentation, and UI behaviors. This section covers where these various elements typically live in the application, and the common mechanisms that allow them to communicate.</p>
<div class="sect2" id="infrastructure_id1">
<div class="titlepage"><div><div><h3 class="title">Infrastructure</h3></div></div></div>
<div class="figure" id="infrastructure_id2">
<div class="figure-contents"><div class="mediaobject"><table style="border: 0; width: 383; cellpadding: 0; cellspacing: 0;"><tr><td><img style="width: 383; " src="http://orm-chimera-prod.s3.amazonaws.com/1234000000262/figs/0101.png" alt="Infrastructure"></td></tr></table></div></div>
<div class="figure-title">Figure 1-1. Infrastructure</div>
</div>
<p id="infrastructure_">Infrastructure can come in many flavors, and have lots of different caching mechanisms, but generally, infrastructure consists of (back to front):</p>
<div class="itemizedlist" id="a_data_storea_v"><ul class="itemizedlist">
<li class="listitem"><p id="a_data_store">A data store</p></li>
<li class="listitem"><p id="a_virtual_priva">A Virtual Private Network (VPN) or firewall (to protect the data store from unauthorized access)</p></li>
<li class="listitem"><p id="a_black_box_jso">A black box JSON RESTful Web Service Layer</p></li>
<li class="listitem"><p id="various_third_p">Various third party APIs</p></li>
<li class="listitem"><p id="an_app_server_">An app server / Content Management System (CMS) to route requests and deliver  pages to the client</p></li>
<li class="listitem"><p id="a_static_conten">A static Content Deliver Network (CDN) for cached files (like images, JavaScript, CSS, and client side templates)</p></li>
<li class="listitem"><p id="the_client_bro">The client (browser)</p></li>
</ul></div>
<p id="the_data_store_">The data store is just like a sounds: A place to store your application data. This is commonly a Relational Database Management System (RDBMS) with a Structured Query Language (SQL) API, but the popularity of NoSQL solutions is on the rise. In the future it's likely that many applications will use a combination of both.</p>
</div>
<div class="sect2" id="json_data_storage_and_communication">
<div class="titlepage"><div><div><h3 class="title">JSON: Data Storage and Communication</h3></div></div></div>
<p id="javascript_obje">JavaScript Object Notation (JSON) is an open standard developed by Douglas Crockford which specifies a subset of the native JavaScript object literal syntax for use in data representation, communication, and storage.</p>
<p id="prior_to_the_js">Prior to the JSON specification, most client-server communications were being delivered in much more verbose XML snippets. JavaScript developers work a lot with JSON web services, and frequently define internal data using JSON syntax.</p>
<p id="take_this_examp">Take this example message, describing a collection of books:</p>
<pre class="programlisting" data-language="json" id="_title__"><code class="p">[</code>
    <code class="p">{</code>
        <code class="err">“title”</code> <code class="err">:</code> <code class="err">“JavaScript:</code> <code class="err">The</code> <code class="err">Good</code> <code class="err">Parts”,</code>
        <code class="err">“author”</code> <code class="err">:</code> <code class="err">“Douglas</code> <code class="err">Crockford”,</code>
        <code class="err">“ISBN”</code> <code class="err">:</code> <code class="err">“0596517742”</code>
    <code class="p">},</code>
    <code class="p">{</code>
        <code class="err">“title”</code> <code class="err">:</code> <code class="err">“JavaScript</code> <code class="err">Patterns”,</code>
        <code class="err">“author”</code> <code class="err">:</code> <code class="err">“Stoyan</code> <code class="err">Stefanov”,</code>
        <code class="err">“ISBN”</code> <code class="err">:</code> <code class="err">“0596806752”</code>
    <code class="p">}</code>
<code class="p">]</code></pre>
<p id="as_you_can_see_id1">As you can see, this format is nearly identical to JavaScript’s object literal syntax, with a couple important differences:</p>
<p id="all_attributes__id1"></p>
<div class="itemizedlist" id="all_attributes__id2"><ul class="itemizedlist">
<li class="listitem"><p id="all_attributes__id3">All attributes (names and values) must be enclosed in double quotes.</p></li>
<li class="listitem"><p id="json_records_ca">JSON records cannot contain circular references.</p></li>
<li class="listitem"><p id="json_cannot_con">JSON cannot contain functions.</p></li>
</ul></div>
</div>
<div class="sect2" id="nosql_datastores">
<div class="titlepage"><div><div><h3 class="title">NoSQL Datastores</h3></div></div></div>
<p id="prior_to_the_ad">Prior to the advent of Extensible Markup Language (XML) and JSON data stores, nearly all web services were backed by  RDBMS. An RDBMS stores discrete data points in tables, and groups data output using table lookups in response to SQL queries.</p>
<p id="nosql_data_stor">NoSQL data stores, in contrast, store entire records in documents or document snippets, without resorting to table-based structured storage. Document-oriented data stores commonly store data in XML format, while object-oriented data stores commonly employ the JSON format. The latter are particularly well suited to web application development, because JSON is the format you use to communicate natively in JavaScript.</p>
<p id="examples_of_pop">Examples of popular JSON-based NoSQL datastores include <a class="ulink" href="http://www.mongodb.org/" target="_top">MongoDB</a> and <a class="ulink" href="http://couchdb.apache.org/" target="_top">CouchDB</a>. Despite the recent popularity of NoSQL, it is still very common to find modern JavaScript applications backed by MySQL and similar RDBMS’.</p>
</div>
<div class="sect2" id="restful_json_web_services">
<div class="titlepage"><div><div><h3 class="title">RESTful JSON Web Services</h3></div></div></div>
<p id="representationa"><em class="firstterm">Representational State Transfer</em> (REST)  is a  client-server communication architecture  that creates a separation of concerns between  data resources  and user interfaces (or other data resource consumers, such as data analysis tools and aggregators).  Services that implement  REST are  referred to as RESTful. The server manages data resources (such as user records). It does not  implement the user interface (look and feel). Clients are free to implement the UI (or not) in whatever manner or language is desired. REST architecture does not address how user interfaces are implemented. It  only deals with maintaining application state between the client and the server.</p>
<p id="restful_web_ser">RESTful web services use HTTP verbs to tell the server what action the client intends. The actions supported are:</p>
<div class="itemizedlist" id="create_a_new_en_id1"><ul class="itemizedlist">
<li class="listitem"><p id="create_a_new_en_id2">Create a new entry in the resource collection:  HTTP POST.</p></li>
<li class="listitem"><p id="retrieve_a_reso">Retrieve a resource representation:  HTTP GET verb.</p></li>
<li class="listitem"><p id="update_replace">Update (Replace) the resource: HTTP PUT.</p></li>
<li class="listitem"><p id="delete_a_resour">Delete a resource: HTTP DELETE.</p></li>
</ul></div>
<p id="this_might_look">This might look familiar if you're familiar with CRUD (Create, Retrieve, Update, Delete). Just remember that in the REST mapping, update really means <span class="emphasis"><em>replace</em></span>.</p>
<p id="a_typical_state">A typical state transfer flow looks like this:</p>
<div class="figure" id="rest_sequence">
<div class="figure-contents"><div class="mediaobject"><table style="border: 0; width: 270; cellpadding: 0; cellspacing: 0;"><tr><td><img style="width: 270; " src="http://orm-chimera-prod.s3.amazonaws.com/1234000000262/figs/0102.png" alt="REST Sequence"></td></tr></table></div></div>
<div class="figure-title">Figure 1-2. REST Sequence</div>
</div>
<div class="orderedlist" id="client_requests_id1"><ol class="orderedlist" type="1">
<li class="listitem"><p id="client_requests_id2">Client requests data from the server with an HTTP GET request to the resource <em class="firstterm">Uniform Resource Indicator</em> (URI). Each resource on the server has a unique URI.</p></li>
<li class="listitem"><p id="the_server_retr">The server retrieves the data (typically from a database or cache) and packages it into a convenient representation for the client.</p></li>
<li class="listitem"><p id="data_is_returne">Data is returned in the form of a document. Those documents are commonly text strings containing JSON encoded objects, but REST is agnostic about how you package your data. It's also common to see XML based RESTful services. Most new services default to JSON formatted data, and many support both XML and JSON.</p></li>
<li class="listitem"><p id="client_manipula">Client manipulates the data representation.</p></li>
<li class="listitem"><p id="client_makes_a_">Client makes a call to the same endpoint URI with a PUT, sending back the manipulated data.</p></li>
<li class="listitem"><p id="the_resource_da">The resource data on the server is replaced by the data in the PUT request.</p></li>
</ol></div>
<p id="its_common_to__id1">It's common to be confused about whether to use PUT or POST to change a resource. REST eliminates that confusion. With REST, a POST request is always made on a collection to create a new resource.</p>
<p id="for_example_yo">For example, you might create a new user by hitting <code class="code">/users/</code> with a POST request, at which point the server will generate a unique ID you can use to access the new resource at <code class="code">/users/<em class="replaceable"><code>userid</code></em></code>. The server will return a new user representation with its own unique URI. You cannot modify an existing resource with POST. Only add children to it.</p>
<p id="use_put_to_chan">Use PUT to change the user's display name by hitting <code class="code">/users/<em class="replaceable"><code>userid</code></em></code> with the updated user record. Note that this will completely replace the user record, so make sure that the representation you PUT contains everything you want it to contain.</p>
<p id="todo_link_to_a">You can learn more about working with REST in the  Application Architecture chapter.</p>
</div>
</div></section><footer><div class="navfooter">
<hr>
<table style="width: 100%; ">
<tr>
<td style="width: 40%; text-align: left; ">
<a accesskey="p" href="pr01.html">Prev</a> </td>
<td style="width: 20%; text-align: center; "> </td>
<td style="width: 40%; text-align: right; "> <a accesskey="n" href="ch02.html">Next</a>
</td>
</tr>
<tr>
<td style="width: 40%; text-align: left; vertical-align: top; ">Preface </td>
<td style="width: 20%; text-align: center; "><a accesskey="h" href="index.html">Home</a></td>
<td style="width: 40%; text-align: right; vertical-align: top; "> Chapter 2. JavaScript Style Guide</td>
</tr>
</table>
</div></footer>


	<div class="extra-footer">
		<p>© 2013, O’Reilly Media, Inc.</p>
		<ul>
			<li><a href="http://oreilly.com/terms/">Terms of Service</a></li>
			<li><a href="http://oreilly.com/oreilly/privacy.csp">Privacy Policy</a></li>
			<li>Interested in <a href="mailto:scordesse@oreilly.com">sponsoring content?</a></li>
		</ul>
	</div>
<script type="text/javascript">if (!NREUMQ.f) { NREUMQ.f=function() {
NREUMQ.push(["load",new Date().getTime()]);
var e=document.createElement("script");
e.type="text/javascript";
e.src=(("http:"===document.location.protocol)?"http:":"https:") + "//" +
  "rpm-images.newrelic.com/42/eum/rum.js";
document.body.appendChild(e);
if(NREUMQ.a)NREUMQ.a();
};
NREUMQ.a=window.onload;window.onload=NREUMQ.f;
};
NREUMQ.push(["nrfj","beacon-3.newrelic.com","3e361aebcf","2194180","IApbRUBZXg1WEEoHDAwORh5aQl8N",12,126,new Date().getTime(),"","","","",""]);</script></body>
</html>